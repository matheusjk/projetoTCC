{% from 'base.html' import valida %}
{% extends 'base.html' %}

{% block content %}

{{ validaLogin(current_user) }}

<div class="container">
  <div class="row">
      <div class="col-md-12 pt-3">
        <div class="jumbotron p-3">
          <h2> Sensores <button type="button" class="btn btn-outline-success float-right" data-toggle="modal" data-target="#mymodal"><i class="bi bi-plus"></i>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                  <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
              </svg>
            Adicionar Sensores </button> </h2>
        </div>

        {{ mostraAlerta() }}
        <table id="myTable" class="table table-hover table-dark table-bordered">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Nome</th>
                  <th>Descritivo</th>
                  <th>Data Criação</th>
                  <!-- <th>Foto URL</th> -->
                  <th> Ação </th>
                </tr>
              </thead>
              <tbody>
              

              </tbody>

        </table>
      </div>

      <div id="modaledit" class="modal fade" role="dialog">
          <div class="modal-dialog">
              <div class="modal-content">
                  <div class="modal-header">
                     <h4 class="modal-title" id="editarSensoresCabecalho"> </h4>
                  </div>

                <div class="modal-body">
                    <form id="formSensoresEdit">
                      <input type="hidden" name="csrf_token" id="csrf_token" value="{{ csrf_token() }}">
                      <input id="id" name="id" type="hidden">

                      <div class="form-group">
                        <label for="tipoSensor"> </label>
                        <input name="tipoSensor" id="tipoSensor" type="text" class="form-control" placeholder="DHT11">
                      </div>

                      <div class="form-group">
                        <label for="descritivo"> </label>
                        <input name="descritivo" id="descritivo" type="text" class="form-control">
                      </div>

                      <div class="form-group pt-2">
                        <button class="btn btn-outline-primary" id="edit_action" type="button">Enviar</button>
                      </div>
                                    
                    </form>
              
                </div>

                <div class="modal-footer">
                    <button class="btn btn-outline-secondary" type="button" data-dismiss="modal">Fechar</button>
                </div>
            </div>
          </div>
        </div>


    <div id="mymodal" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
              <h4 class="modal-title" id="adicionarSensorCabecalho"> </h4>
          </div>

          <div class="modal-body">
            <form id="formSensorInsere">
                <input type="hidden" name="csrf_token" id="csrf_token" value="{{ csrf_token() }}">

                <div class="form-group">
                  <label for="tipoSensor"> Nome </label>
                  <input name="tipoSensor" id="tipoSensor" type="text" class="form-control" placeholder="DHT11">
                </div>

                <div class="form-group">
                  <label for="descritivo"> Descritivo </label>
                  <input name="descritivo" id="descritivo" type="text" class="form-control" placeholder="Sensor de temperatura e umidade">
                </div>

                <div class="form-group pt-2">
                  <button class="btn btn-outline-primary" id="submit_action" type="button">Enviar</button>
              </div>

            </form>

          </div>
          <div class="modal-footer">
              <button class="btn btn-outline-secondary" type="button" data-dismiss="modal">Fechar</button>
          </div>
        </div>
      </div>
    </div>

  
  </div>
</div>

{% endblock %}


{% block footer %}
  <footer class="footer mt-auto py3">
    <div class="container">
      <p class="mt-5 mb-3 text-muted text-center">Todos os direitos reservados. &copy; 2021</p>
    </div>
  </footer>
{% endblock %}
